{"version":3,"sources":["components/StyledComponents.tsx","types/index.ts","utils/getStyle.tsx","components/ChessItem.tsx","components/ChessBoard.tsx","components/EditModeButton.tsx","components/HeaderWrapper.tsx","App.tsx","index.tsx"],"names":["FigureType","Mode","Wrapper","styled","div","StyledButton","button","ItemWrapper","isDisabled","hasValue","color","Header","ItemsWrapper","EditModeText","getValue","index","x","getType","ChessItem","dragEnd","name","item","type","value","useDrag","end","monitor","dropResult","getDropResult","source","target","canDrag","collect","isDragging","drag","useDrop","accept","drop","isOver","canDrop","ref","style","Number","backgroundColor","Math","trunc","width","height","black","getIconByValue","ChessBoard","useState","Array","from","length","items","setItems","onDragEnd","destValue","destType","sourceValue","sourceType","map","toString","key","Button","modeChanged","mode","setMode","className","onClick","m","on","off","HeaderWrapper","App","DndProvider","backend","HTML5Backend","EditModeButton","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5c2b56e6.chunk.js","sourcesContent":["import styled from 'styled-components';\n\ninterface ItemWrapperProps {\n  isDisabled: boolean;\n  hasValue: boolean;\n  color: string;\n}\n\nexport const Wrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  > * {\n    margin: 1rem;\n  }\n`;\n\nexport const StyledButton = styled.button`\n  border-radius: 50%;\n  width: 5rem;\n  height: 5rem;\n  outline: none;\n  :hover {\n    border: 1px solid black;\n    transform: scale(1.1);\n  }\n`;\n\nexport const ItemWrapper = styled.div<ItemWrapperProps>`\n  cursor: ${({ isDisabled }) => (isDisabled ? 'not-allowed' : 'move')};\n  height: 2rem;\n  margin: 25%;\n  ${({ hasValue, color, isDisabled }) =>\n    hasValue &&\n    `background-color: ${\n      isDisabled ? 'gray' : color !== 'white' ? '#a8dadc' : '#e5989b'\n    } !important`};\n  color: ${({ color }) => `${color} !important`};\n  text-align: center;\n  padding-top: 10px;\n  font-size: 20px;\n  transform: translateZ(0px);\n  border-radius: 50%;\n`;\n\nexport const Header = styled.div`\n  text-align: center;\n  font-size: 5rem;\n  margin: 3rem 0 1rem 0;\n`;\n\nexport const ItemsWrapper = styled.div`\n  display: grid;\n  grid-template-columns: repeat(8, 5rem);\n  border: 1px solid black;\n`;\n\nexport const EditModeText = styled.div`\n  width: 5rem;\n`;\n","export interface ChessItemProps {\n  item: ItemType;\n  name: string;\n  dragEnd: Function;\n  isDisabled: boolean;\n}\n\nexport interface ChessBoardProps {\n  isDisabled: boolean;\n}\n\nexport enum FigureType {\n  black,\n  white\n}\n\nexport interface ItemType {\n  value: string;\n  type: FigureType;\n  index: number;\n}\n\nexport enum Mode {\n  on = 'ON',\n  off = 'OFF'\n}\n\nexport interface DragEndEvent {\n  source: number;\n  target: number;\n}\n","import React from 'react';\nimport {\n  FaChessQueen,\n  FaChessKing,\n  FaChessBishop,\n  FaChessPawn,\n  FaChessKnight,\n  FaChessRook\n} from 'react-icons/fa';\n\nexport const getStyle = (index: number) => {\n  let color = '';\n  let backgroundColor = '';\n  if ((index + Math.trunc(index / 8)) % 2 === 0) {\n    // color = 'white';\n    backgroundColor = 'black';\n  } else {\n    backgroundColor = 'white';\n    // color = 'black';\n  }\n\n  return { color, backgroundColor, width: '5rem', height: '5rem' };\n};\n\nexport const getIconByValue = (value: string) => {\n  switch (value) {\n    case 'Q':\n      return <FaChessQueen />;\n    case 'K':\n      return <FaChessKing />;\n    case 'Kn':\n      return <FaChessKnight />;\n    case 'B':\n      return <FaChessBishop />;\n    case 'P':\n      return <FaChessPawn />;\n    case 'R':\n      return <FaChessRook />;\n  }\n};\n\nexport const getValue = (index: number) => {\n  const x = [\n    'R',\n    'Kn',\n    'B',\n    'Q',\n    'K',\n    'B',\n    'Kn',\n    'R',\n    'P',\n    'P',\n    'P',\n    'P',\n    'P',\n    'P',\n    'P',\n    'P'\n  ];\n  if (index < 16) {\n    return x[index];\n  }\n  if (index >= 48) {\n    return x[(15 - (63 - index) + 8) % 16];\n  }\n  return '';\n};\n\nexport const getType = (index: number) => {\n  return index < 16 ? 0 : index > 48 ? 1 : 2;\n};\n","import React from 'react';\nimport { useDrag, DragSourceMonitor, useDrop } from 'react-dnd';\n\nimport { getStyle, getIconByValue } from '../utils/getStyle';\nimport { ItemWrapper } from './StyledComponents';\nimport { ChessItemProps, FigureType } from '../types';\n\nexport const ChessItem: React.FC<ChessItemProps> = ({\n  dragEnd,\n  isDisabled,\n  name,\n  item: { type, value }\n}) => {\n  const [{ isDragging }, drag, preview] = useDrag({\n    item: { name, type: 'figure' },\n    end: (item: { name: string } | undefined, monitor: DragSourceMonitor) => {\n      const dropResult = monitor.getDropResult();\n      if (item && dropResult) {\n        dragEnd({ source: item.name, target: dropResult.name });\n      }\n    },\n    canDrag: !isDisabled && !!value,\n\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n\n  const [{ canDrop, isOver }, drop] = useDrop({\n    accept: 'figure',\n    drop: () => ({ name }),\n    collect: monitor => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop()\n    })\n  });\n\n  return (\n    <div ref={drop} style={{ ...getStyle(Number(name)) }}>\n      <ItemWrapper\n        ref={drag}\n        isDisabled={isDisabled}\n        hasValue={!!value}\n        color={type === FigureType.black ? 'black' : 'white'}\n      >\n        {!isDragging && getIconByValue(value)}\n      </ItemWrapper>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\n\nimport { ItemsWrapper } from './StyledComponents';\nimport { ChessItem } from './ChessItem';\nimport { getValue, getType } from '../utils/getStyle';\nimport { ChessBoardProps, DragEndEvent } from '../types';\n\nconst getChessItems = () => {\n  return Array.from(\n    {\n      length: 64\n    },\n    (item, index) => ({ value: getValue(index), type: getType(index), index })\n  );\n};\n\nconst ChessBoard = ({ isDisabled }: ChessBoardProps) => {\n  const [items, setItems] = useState(getChessItems());\n\n  const onDragEnd = ({ source, target }: DragEndEvent) => {\n    const { value: destValue, type: destType } = items[target];\n    const { value: sourceValue, type: sourceType } = items[source];\n\n    items[target] = { ...items[target], value: sourceValue, type: sourceType };\n    items[source] = { ...items[source], value: destValue, type: destType };\n\n    setItems([...items]);\n  };\n\n  return (\n    <>\n      <ItemsWrapper>\n        {items.map(item => {\n          return (\n            <ChessItem\n              name={item.index.toString()}\n              item={item}\n              dragEnd={onDragEnd}\n              isDisabled={isDisabled}\n              key={item.index}\n            />\n          );\n        })}\n      </ItemsWrapper>\n    </>\n  );\n};\n\nexport default ChessBoard;\n","import React, { useState } from 'react';\nimport { FaPlay, FaPause } from 'react-icons/fa';\n\nimport { StyledButton, EditModeText } from './StyledComponents';\nimport { Mode } from '../types';\n\ninterface Props {\n  modeChanged: (mode: boolean) => void;\n}\n\nconst Button = ({ modeChanged }: Props) => {\n  const [mode, setMode] = useState(false);\n\n  const onButtonClick = () => {\n    modeChanged(!mode);\n    setMode(m => !m);\n  };\n\n  return (\n    <>\n      <StyledButton className=\"clap\" onClick={onButtonClick}>\n        {mode ? <FaPause /> : <FaPlay />}\n      </StyledButton>\n      <EditModeText>Edit mode {mode ? Mode.on : Mode.off}</EditModeText>\n    </>\n  );\n};\nexport default Button;\n","import React from 'react';\nimport {\n  FaChessQueen,\n  FaChessKing,\n  FaChessBishop,\n  FaChessPawn,\n  FaChessKnight,\n  FaChessRook\n} from 'react-icons/fa';\nimport { Header } from '../components/StyledComponents';\n\nconst HeaderWrapper = () => {\n  return (\n    <Header>\n      <FaChessQueen />\n      <FaChessKing />\n      <FaChessBishop />\n      ChessBoard\n      <FaChessPawn />\n      <FaChessKnight />\n      <FaChessRook />\n    </Header>\n  );\n};\n\nexport default HeaderWrapper;\n","import React, { useState } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\n\nimport './App.css';\nimport ChessBoard from './components/ChessBoard';\nimport EditModeButton from './components/EditModeButton';\nimport { Wrapper } from './components/StyledComponents';\nimport HeaderWrapper from './components/HeaderWrapper';\n\nconst App = () => {\n  const [mode, setMode] = useState(false);\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <HeaderWrapper />\n\n      <Wrapper className=\"wrapper\">\n        <ChessBoard isDisabled={!mode} />\n        <EditModeButton modeChanged={mode => setMode(mode)} />\n      </Wrapper>\n    </DndProvider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}